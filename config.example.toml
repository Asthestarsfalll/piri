# Piri Configuration File
# Copy this file to ~/.config/niri/piri.toml

[niri]
# Optional: Path to niri socket
# If not specified, will use $XDG_RUNTIME_DIR/niri or /tmp/niri
# socket_path = "/tmp/niri"

# Plugin control: enable/disable plugins
# If not specified, plugins are disabled by default
[piri.plugins]
scratchpads = true
empty = true
window_rule = true
autofill = true

[piri.scratchpad]
default_size = "40% 60%"
default_margin = 50

# Plugins configuration
# Empty plugin: executes commands when switching to empty workspaces
# Format: [empty.{workspace}]
# Workspace identifier can be:
# - name (String): workspace name, e.g., "main", "work"
# - idx (u8): workspace index, e.g., "1", "2", "3"
# Note: Matching order is name first, then idx. ID (u64) is not used for matching.
[empty.1] # workspace index
command = "notify-send 'Workspace 1 is empty'"

[empty.browser] # workspace name
command = "google-chrome-stable"


# Scratchpads configuration
# Format: [scratchpads.{name}]
[scratchpads.term]
direction = "fromRight"
command = "GTK_IM_MODULE=wayland ghostty --class=float.dropterm"
app_id = "float.dropterm"
size = "40% 60%"
margin = 50


# Window rules: automatically move windows to workspaces based on app_id or title
# Format: [[window_rule]]
# - app_id: regex pattern to match window app_id (optional, but at least one of app_id or title must be specified)
# - title: regex pattern to match window title (optional, but at least one of app_id or title must be specified)
# - open_on_workspace: workspace to move matching windows to (name or idx)
# Note: If both app_id and title are specified, the rule matches if EITHER matches (OR logic)
# Matching order: first matching rule is applied
# Example: match by app_id regex pattern
[[window_rule]]
app_id = ".*firefox.*"
open_on_workspace = "2"

# Example: match by title regex pattern
[[window_rule]]
title = ".*Chrome.*"
open_on_workspace = "3"

# Example: match by either app_id OR title
[[window_rule]]
app_id = "code"
title = ".*VS Code.*"
open_on_workspace = "browser"